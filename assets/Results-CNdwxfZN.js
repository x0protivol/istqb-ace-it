import{j as e}from"./ui-DfBBc6NZ.js";import{r as s}from"./vendor-CKBrVor4.js";import{C as t,a,b as r,c,d as i,P as n,T as l,f as d,B as o,e as x}from"./badge-DHoux-Fs.js";import{b as m}from"./router-kLPX_ynw.js";import{C as h,T as u,a as j}from"./trending-up-nsA0mCPn.js";import{c as p}from"./index-at46NY6s.js";import"./supabase-qmzs_Ol3.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=p("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),N=p("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),g=p("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),v=()=>{const p=m(),[v,y]=s.useState(null),[b,w]=s.useState([]);s.useEffect(()=>{const e=localStorage.getItem("examResults");if(e){const{session:s,questions:t}=JSON.parse(e),a=Math.round(s.score/t.length*100),r=65;y({totalQuestions:t.length,correctAnswers:s.score,totalTime:s.time_spent,pointsEarned:s.score,accuracy:a,passingScore:r});const c=t.map((e,t)=>({id:e.id,question:e.question,userAnswer:s.answers[t],correctAnswer:e.correct_answer,isCorrect:s.answers[t]===e.correct_answer,category:e.category,explanation:e.explanation,difficulty:e.difficulty}));w(c)}else p("/")},[p]);if(!v)return e.jsx("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const k=v.accuracy>=v.passingScore;return e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full "+(k?"bg-success/10 text-success":"bg-destructive/10 text-destructive"),children:[k?e.jsx(h,{className:"h-5 w-5"}):e.jsx(f,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:k?"Congratulations! You Passed!":"Keep Learning - You're Getting There!"})]}),e.jsx("h1",{className:"text-3xl font-bold",children:"Exam Results"}),e.jsx("p",{className:"text-muted-foreground",children:"ISTQB Foundation Level Practice Test"})]}),e.jsxs(t,{className:"shadow-quiz",children:[e.jsxs(a,{className:"text-center",children:[e.jsxs(r,{className:"text-4xl font-bold bg-gradient-hero bg-clip-text text-transparent",children:[v.accuracy,"%"]}),e.jsx(c,{children:"Final Score"})]}),e.jsxs(i,{children:[e.jsx(n,{value:v.accuracy,className:"h-4 mb-6"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(l,{className:"h-8 w-8 text-warning"})}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:v.pointsEarned}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Points Earned"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(u,{className:"h-8 w-8 text-success"})}),e.jsxs("div",{className:"text-2xl font-bold text-success",children:[v.correctAnswers,"/",v.totalQuestions]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Correct Answers"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(d,{className:"h-8 w-8 text-primary"})}),e.jsx("div",{className:"text-2xl font-bold",children:(C=v.totalTime,`${Math.floor(C/60)}:${(C%60).toString().padStart(2,"0")}`)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Time"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(j,{className:"h-8 w-8 "+(k?"text-success":"text-destructive")})}),e.jsx("div",{className:"text-2xl font-bold "+(k?"text-success":"text-destructive"),children:k?"PASS":"FAIL"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})]})]}),e.jsxs(t,{className:"shadow-card",children:[e.jsxs(a,{children:[e.jsx(r,{children:"Question Analysis"}),e.jsx(c,{children:"Review your answers and learn from explanations"})]}),e.jsx(i,{className:"space-y-4",children:b.map((s,t)=>e.jsx("div",{className:"p-4 rounded-lg border "+(s.isCorrect?"border-success/20 bg-success/5":"border-destructive/20 bg-destructive/5"),children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"secondary",children:["Q",t+1]}),e.jsx(o,{variant:"outline",children:s.category}),s.isCorrect?e.jsx(h,{className:"h-4 w-4 text-success"}):e.jsx(f,{className:"h-4 w-4 text-destructive"})]}),e.jsx("p",{className:"text-sm font-medium",children:s.question}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Difficulty: ",s.difficulty]}),e.jsx("span",{className:s.isCorrect?"text-success":"text-destructive",children:s.isCorrect?"Correct":"Incorrect"})]}),!s.isCorrect&&e.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:[e.jsx("p",{className:"font-medium",children:"Explanation:"}),e.jsx("p",{className:"text-muted-foreground",children:s.explanation})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-lg font-bold "+(s.isCorrect?"text-success":"text-destructive"),children:[s.isCorrect?"+1":"0"," pts"]})})]})},s.id))})]}),e.jsxs(t,{className:"shadow-card",children:[e.jsxs(a,{children:[e.jsx(r,{children:"Study Recommendations"}),e.jsx(c,{children:"Focus on these areas to improve your score"})]}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-3",children:[!k&&e.jsxs("div",{className:"p-4 bg-warning/10 border border-warning/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-warning mb-2",children:"Areas to Review:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"• Static Testing principles and techniques"}),e.jsx("li",{children:"• Review fundamental testing concepts"}),e.jsx("li",{children:"• Practice more questions in weak areas"})]})]}),e.jsxs("div",{className:"p-4 bg-primary/10 border border-primary/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Next Steps:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:"• Take another practice exam to track improvement"}),e.jsx("li",{children:"• Review ISTQB syllabus sections you struggled with"}),e.jsx("li",{children:"• Join study groups or online forums for additional support"})]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(x,{variant:"primary",onClick:()=>p("/quiz"),className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),"Retake Exam"]}),e.jsxs(x,{variant:"outline",onClick:()=>p("/"),className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),"Back to Dashboard"]})]})]})});var C};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{v as default};
